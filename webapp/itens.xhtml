<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html>
<html lang="en" xmlns:jsf="http://xmlns.jcp.org/jsf"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:ui="http://java.sun.com/jsf/facelets">
<h:head>
	<!-- Import materialize css -->
	<link type="text/css" rel="stylesheet" href="css/materialize.min.css" media="screen,projection" />
	
	<!--Let browser know website is optimized for mobile-->
	<meta name="viewport" content="width=device-width, initial-scale=1.0" />

	<script type="text/javascript" src="js/jquery-1.7.2.min.js"></script>
	<script type="text/javascript" src="js/mixitup.min.js"></script>

	<title>Itens</title>
	
</h:head>
<h:body>
	<div class="container">
		<div class="row">
			<!-- primeiro div -->
			<div class="col s12">
				<!-- estrutura itens -->
				<div class="col s9">
					<!-- tags -->
					<div class="col s4 controls">
						<ui:repeat value="#{itensController.itemList.tree}" var="tree">
				      		<h6>#{tree.header}</h6>
				      		<ui:repeat value="#{tree.tags}" var="tag">
				      			<label>
									<input type="checkbox" control="#{tag}" data-toggle=".#{tag}" />
									<span>#{tag}</span><br/>
								</label>
				      		</ui:repeat>
			      		</ui:repeat>
					</div>
					
					<!-- itens -->
					<div class="col s8 container">
						<!-- <table class="table responsive-table striped">
							<thead>
								<tr>
									<th hidden="true">Tags</th>
									<th id="item">Item</th>
									<th id="gold">Preço</th>
									<th>Descrição</th>
								</tr>
							</thead>
							<tbody> -->
								<ui:repeat value="#{itensController.itens}" var="item">
									<div class="col s3">
										<div class="card mix #{itensController.listToString(item.tags)}">
											<div class="card-image waves-effect waves-block waves-light">
												<img class="activator" 
													src="http://ddragon.leagueoflegends.com/cdn/6.24.1/img/item/#{item.image.full}" />
											</div>
											<div class="card-content">
												<span class="card-title activator grey-text text-darken-4">
													#{item.name}
												</span>
												<p><a href="#">#{item.gold}</a></p>
											</div>
											<div class="card-reveal">
												<span class="card-title grey-text text-darken-4">#{item.name}<i
													class="material-icons right">close</i></span>
												<p><h:outputText value="#{item.description}" escape="false" /></p>
											</div>
										</div>
									</div>

									<!-- <tr class="mix #{itensController.listToString(item.tags)}">
										<td hidden="true">#{itensController.listToString(item.tags)}</td>
										<td>#{item.name}</td>
										<td>#{item.gold}</td>
										<td><h:outputText value="#{item.description}" escape="false" /></td>
									</tr> -->
							  	</ui:repeat>
						  	<!-- </tbody>
						</table> -->
					</div>
					
					<div class="col s3">
						descricao
					</div>
				</div>
				
				<!-- segunda coluna -->
				<div class="col s3">
					<div class="col s12">
						descrição
					</div>
					<div class="col s12">
						itens
					</div>
				</div>
			</div>
			
			<div class="col s9 ">
				
			</div>
		</div>
	</div>

        


	<script>
	    var containerEl = document.querySelector('.container');
	    var mixer = mixitup(containerEl, {
	        controls: {
	            toggleLogic: 'and'
	        }
	    });



	  //<![CDATA[
	    $('th').click(function(){
	        var table = $(this).parents('table').eq(0)
	        var rows = table.find('tr:gt(0)').toArray().sort(comparer($(this).index()))
	        this.asc = !this.asc
	        if (!this.asc){rows = rows.reverse()}
	        for (var i = 0; i < rows.length; i++){table.append(rows[i])}
	    })
	    function comparer(index) {
	        return function(a, b) {
	            var valA = getCellValue(a, index), valB = getCellValue(b, index)
	            return $.isNumeric(valA) && $.isNumeric(valB) ? valA - valB : valA.toString().localeCompare(valB)
	        }
	    }
	    function getCellValue(row, index){ return $(row).children('td').eq(index).text() }
	  //]]>
	</script>
        
    <!--JavaScript at end of body for optimized loading-->
	<script type="text/javascript" src="js/materialize.min.js"></script>
</h:body>

</html>
